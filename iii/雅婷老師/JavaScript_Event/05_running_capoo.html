<!DOCTYPE html>
<html>

<head>
    <title>capoo</title>

    <style type="text/css">
        #capoo {
            /* 在這個範例中，只要position不是static或者fixed都可以 */
            position: absolute;
        }
    </style>

</head>

<!-- 1. 幫body掛一個事件，for 偵測鍵盤 是否有點上下左右按鍵 -->

<body onkeydown="moveCapoo(event)">

    <img id="capoo" src="img/capoo.gif">

    <script>
        // 2. 取得 #capoo 這個元素
        var capoo = document.getElementById('capoo');

        function moveCapoo(e) {
            // console.log(e);

            // 3. 撰寫讓 # capoo 移動的方法
            //    3-1. 先知道user在是點選上下左右哪一顆按鍵
            //    3-2. 取得網頁中css樣式的方法：window.getComputedStyle(想要取得的元素);
            var capooStyle = window.getComputedStyle(capoo);
            //    3-3. 透過3-2拿到的style物件，找尋指定的css樣式屬性：style.getPropertyValue(指定的樣式屬性);
            var cTop = capooStyle.getPropertyValue('top');
            var cLeft = capooStyle.getPropertyValue('left');

            console.log(cTop);
            console.log(cLeft);

            //    3-4. 配合user的操作，設定 #capoo 移動的方向 => 注意單位陷阱

            switch (e.keyCode) {
                case 37:
                    console.log('左');
                    capoo.style.left = parseInt(cLeft) - 50 + "px";
                    capoo.style.transform = "rotateY(0deg)";
                    break;
                case 38:
                    console.log('上');
                    capoo.style.top = parseInt(cTop) - 50 + "px";
                    capoo.style.transform = "rotateX(0deg)";
                    break;
                case 39:
                    console.log('右');
                    capoo.style.left = parseInt(cLeft) + 50 + "px";
                    capoo.style.transform = "rotateY(180deg)";
                    break;
                case 40:
                    console.log('下');
                    capoo.style.top = parseInt(cTop) + 50 + "px";
                    capoo.style.transform = "rotateX(180deg)";
                    break;
            }
        }
    </script>
</body>

</html>